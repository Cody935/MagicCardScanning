/*
    MTG Card Scanner - Style Sheet
    Based on the requested dark, modern, and user-friendly design.
*/

:root {
    --bg-900: #05060a;
    --bg-800: #0d1116;
    --panel: #0f1318;
    --muted: #9ca3af;
    --text: #e9eef6;
    --gold: #f4c542;
    --accent: #f4c542;
    --btn-dark: #0b1220;
    --btn-gold: #f2c94c;
    --btn-gold-hover: #f4d36b;
    --error: #dc3545;
    --font-heading: 'Merriweather', serif;
    --font-body: 'Roboto', sans-serif;
}

body {
    background-color: var(--bg-900);
    color: var(--text);
    font-family: var(--font-body);
    margin: 0;
    padding: 40px 20px 80px 20px;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    background-image:
        radial-gradient(1000px 400px at 5% 10%, rgba(36,21,56,0.45), transparent 8%),
        radial-gradient(800px 350px at 95% 80%, rgba(8,30,40,0.35), transparent 12%),
        linear-gradient(180deg, rgba(6,8,12,1) 0%, rgba(12,14,18,1) 100%);
    background-blend-mode: screen, screen, normal;
}

.main-container {
    max-width: 980px;
    width: 100%;
    box-sizing: border-box;
}

/* --- Headers and Titles --- */


header {
    text-align: center;
    margin-bottom: 36px;
}

h1 {
    font-family: var(--font-heading);
    font-size: 2.6rem;
    color: var(--text);
    margin: 0;
}

.accent { color: var(--gold); }

.subtitle {
    font-size: 1.05rem;
    color: var(--muted);
    margin-top: 10px;
    max-width: 760px;
    margin-left: auto;
    margin-right: auto;
}

.icon-star, .icon-search, .icon-bulb {
    color: var(--color-accent);
}

.result-title {
    font-family: var(--font-heading);
    font-size: 2em;
    color: var(--color-accent);
    margin: 20px 0;
    border-bottom: 1px solid var(--color-panel-bg);
    padding-bottom: 10px;
}

/* --- Upload/Search Form (index.html) --- */


.upload-section{
    margin: 18px 0 30px 0;
}

.upload-form-box{
    display:flex;
    gap:18px;
    align-items:center;
    justify-content:center;
    flex-wrap:wrap;
}


/* Hide default file input */
#card_image_input{ position:absolute; width:0.1px; height:0.1px; opacity:0; overflow:hidden; z-index:-1; }

/* Big dashed drop area used as the file label */
.custom-file-upload{
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:8px;
    width:640px;
    max-width:calc(100% - 120px);
    padding:34px 22px;
    border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));
    border:2px dashed rgba(255,255,255,0.04);
    color:var(--text);
    cursor:pointer;
    text-align:center;
    transition:transform .14s ease, box-shadow .14s ease;
    box-shadow: 0 16px 40px rgba(4,6,8,0.7);
}

.custom-file-upload:hover{ transform:translateY(-3px); box-shadow:0 22px 60px rgba(4,6,8,0.8); }

.upload-icon{
    width:84px; height:84px; border-radius:50%; display:flex; align-items:center; justify-content:center;
    background:rgba(255,255,255,0.02); color:var(--text); font-size:34px; border:1px solid rgba(255,255,255,0.02);
}

.upload-title{ font-weight:700; font-size:1.05rem; color:var(--text); }
.upload-sub{ font-size:0.9rem; color:var(--muted); margin-top:2px; }

.scan-button{
    background:var(--btn-gold);
    color:var(--btn-dark);
    border:none; padding:12px 28px; border-radius:999px; cursor:pointer; font-weight:700; box-shadow:0 10px 30px rgba(12,10,8,0.45);
}
.scan-button:hover{ background:var(--btn-gold-hover); transform:translateY(-2px); }

.or-separator {
    color: var(--color-text-secondary);
    margin: 20px 0;
    font-style: italic;
}

.search-by-name{
    display:flex; gap:12px; justify-content:center; margin-top:20px;
}
.search-by-name input{
    padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.04);
    background: rgba(255,255,255,0.02); color:var(--text); width:360px; outline:none;
}
.search-by-name input:focus{ box-shadow:0 8px 28px rgba(0,0,0,0.6); }
.search-by-name button{ padding:10px 18px; border-radius:10px; border:none; background:var(--btn-gold); color:var(--btn-dark); font-weight:700; cursor:pointer; }
.search-by-name button:hover{ background:var(--btn-gold-hover); transform:translateY(-1px); }

/* --- File Upload Indicator --- */

.file-upload-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 24px;
    background: linear-gradient(135deg, rgba(244, 197, 66, 0.1), rgba(244, 197, 66, 0.05));
    border-radius: 10px;
    border: 2px solid rgba(244, 197, 66, 0.3);
    animation: slideIn 0.3s ease-out;
}

.file-icon {
    font-size: 28px;
    color: var(--btn-gold);
}

.file-name {
    color: var(--text);
    font-weight: 500;
    font-size: 0.95rem;
    word-break: break-word;
    max-width: 280px;
    text-align: center;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* --- Loading Animation --- */

.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(5, 6, 10, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    backdrop-filter: blur(2px);
}

.loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
}

.spinner {
    width: 60px;
    height: 60px;
    border: 4px solid rgba(244, 197, 66, 0.2);
    border-top: 4px solid var(--btn-gold);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.loading-text {
    font-size: 1.1rem;
    color: var(--text);
    font-weight: 500;
    text-align: center;
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

/* --- Tips Box --- */

.tips-box{ background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015)); padding:22px; border-radius:12px; border:1px solid rgba(255,255,255,0.03); }

.tips-box h2 {
    color: var(--color-accent);
    margin-top: 0;
    border-bottom: 1px solid var(--color-panel-bg);
    padding-bottom: 10px;
    font-size: 1.5em;
}

.tip-columns {
    display: flex;
    gap: 40px;
    margin-top: 20px;
}

.tip-columns ul {
    list-style-type: 'Â» ';
    padding-left: 20px;
    margin: 0;
    flex: 1;
}

.tip-columns li {
    margin-bottom: 8px;
    color: var(--color-text-secondary);
}

.debug-link-container {
    text-align: center;
    margin-top: 20px;
}

.debug-link {
    color: var(--color-button);
    text-decoration: none;
    font-size: 0.9em;
}

.debug-link:hover {
    text-decoration: underline;
}

/* --- Result Page Layout (result.html) --- */

.result-layout{ display:flex; gap:30px; flex-wrap:wrap; margin-top:20px; }

.card-image-section {
    flex: 1;
    min-width: 300px;
    max-width: 350px;
    text-align: center;
}

.card-art-image {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.7);
    border: 3px solid var(--color-panel-bg);
}

.image-note {
    font-size: 0.8em;
    color: var(--color-text-secondary);
    margin-top: 10px;
}

.card-details-section {
    flex: 2;
    min-width: 400px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.card-panel {
    background: var(--color-main-bg);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    border-left: 4px solid var(--color-accent);
}

.card-panel h3 {
    color: var(--color-accent);
    margin-top: 0;
    font-size: 1.2em;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--color-panel-bg);
    margin-bottom: 15px;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px dotted var(--color-panel-bg);
}

.detail-row:last-child {
    border-bottom: none;
}

.detail-label {
    font-weight: bold;
    color: var(--color-text-secondary);
}

.detail-value {
    color: var(--color-text-light);
}

.price-row .detail-label {
    color: #4CAF50; /* Green for price */
}
.price-row .detail-value {
    font-weight: bold;
    color: #4CAF50;
}

.description-panel {
    grid-column: 1 / -1; /* Span across both columns */
}

.description-panel p {
    white-space: pre-wrap;
    font-style: italic;
    line-height: 1.5;
    color: var(--color-text-light);
}

/* Legality Table */
.legality-panel table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    font-size: 0.9em;
}

.legality-panel th, .legality-panel td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid var(--color-panel-bg);
}

.legality-panel th {
    background-color: #4a4a4a;
    color: var(--color-accent);
}

/* Legality Status Colors */
.status-legal { color: #4CAF50; font-weight: bold; } /* Green */
.status-not_legal { color: var(--color-text-secondary); } /* Gray */
.status-banned { color: var(--color-error); font-weight: bold; } /* Red */
.status-restricted { color: #ff9800; } /* Orange */

/* Rarity Colors */
.rarity-common { color: var(--color-text-light); } 
.rarity-uncommon { color: #c0c0c0; } /* Silver/Light Gray */
.rarity-rare { color: var(--color-accent); font-weight: bold; } /* Gold/Yellow */
.rarity-mythic { color: #ff6b35; font-weight: bold; } /* Red-Orange */
.rarity-special { color: #00bcd4; font-weight: bold; } /* Cyan */

/* Back Link */
.back-link {
    display: inline-block;
    margin-bottom: 20px;
    padding: 10px 20px;
    background: var(--color-button);
    color: white;
    text-decoration: none;
    border-radius: 5px;
    transition: background 0.3s;
}

.back-link:hover {
    background: var(--color-button-hover);
}

/* Error Message */
.error-box {
    color: white;
    background: var(--color-error);
    padding: 15px;
    border-radius: 5px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
}

/* Footer */
footer {
    text-align: center;
    padding-top: 30px;
    margin-top: 30px;
    border-top: 1px solid var(--color-panel-bg);
    color: var(--color-text-secondary);
    font-size: 0.9em;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .result-layout {
        flex-direction: column;
        align-items: center;
    }
    .card-image-section {
        max-width: 90%;
    }
    .card-details-section {
        display: block;
        min-width: auto;
        width: 100%;
    }
    .card-panel {
        margin-bottom: 20px;
    }
    .upload-form-box {
        flex-direction: column;
    }
    .custom-file-upload, .scan-button {
        width: 100%;
        box-sizing: border-box;
    }
}